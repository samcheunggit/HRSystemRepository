<app-navbar></app-navbar>
<br><br>
<div class="container">
<div style="margin: auto; max-width: 1000px; margin-bottom: 50px;" *ngIf="showTable">
  <a class="btn btn-default btn-sm float-right" href="#" (click)="addNewEmployeeForm()">
      <i class="fa fa-plus fa-lg"></i> Add</a>
   <data-table id="employee-grid"
        headerTitle="All Employees"
        [limit]="(itemCount>10?10:itemCount)"
        [items]="items"
        [itemCount]="itemCount"
        (reload)="reloadItems($event)"
        (rowClick)="rowClick($event)"
        >
        <data-table-column
            [property]="'fullname'"
            [header]="'Name'"
            [sortable]="true"
            [resizable]="true">
        </data-table-column>
        <data-table-column
            [property]="'title'"
            [header]="'Title'"
            [sortable]="true"
            [resizable]="true">
        </data-table-column>
        <data-table-column
            [property]="'worktype'"
            [header]="'Employment Type'"
            [sortable]="true"
            [resizable]="true">
        </data-table-column>
        <data-table-column
            property="telno"
            header="Phone number"
            width="150px">
        </data-table-column>
         <data-table-column
          header="Actions">
          <ng-template #dataTableCell let-item="item">
            <a class="btn btn-outline-danger btn-sm" href="#" (click)="deleteEmployee(item)">
              <i class="fa fa-trash-o fa-lg"></i> Delete</a>
          </ng-template>
        </data-table-column>
    </data-table>
</div>
  <p>Form value: {{ employeeForm.value | json }}</p>
<p>Form status: {{ employeeForm.status | json }}</p>
  <p>title value: {{ employeeForm.get('title').value}}</p>
  
  <form (ngSubmit)="saveEmployee(employeeForm.value)" [formGroup]="employeeForm" disabled="true">
    <p class="h1">Employment Information</p>
    <hr/><br>
    <div class="row">
      <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-md-pull-8" style="border-style: solid;">
        <div class="text-center">
          <img src="" 
               class="rounded" style="max-width: 100%; max-height: 100%;" alt="Responsive image">
        </div>
      </div>
      <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 col-md-pull-4">
        <div class="form-group row">
          <label for="employeeTitle" class="col-sm-2 col-form-label">Title</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" formControlName="title" id="employeeTitle" value="{{employee?.title}}">
          </div>
        </div>
        <div class="form-group row">
          <label for="employeeWorkType" class="col-sm-2 col-form-label">Employment Type</label>
          <div class="col-sm-10">
            <select class="form-control" id="employeeWorkType" formControlName="worktype">
              <option *ngFor="let worktype of worktypes" [value]="worktype.id" [selected]="employee?.worktype==worktype.id">{{worktype.value}}</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <label for="employeeDateOfJoin" class="col-sm-2 col-form-label">Date Of Join</label>
          <div class="col-sm-10">
<!--               <datepicker class="form-control" formControlName="dateofjoin" [viewFormat]="'DD/MM/YYYY'" [modelFormat]="'YYYY-MM-DD'"  [id]="employeeDateOfJoin" [label]="123123" value="{{employee?.dateofjoin}}"></datepicker> -->
<!--             <input type="date" class="form-control" id="employeeDateOfJoin" formControlName="dateofjoin" value="{{employee?.dateofjoin | date: 'yyyy-MM-dd'}}"> -->
          </div>
        </div>
        <div class="form-group row">
          <label for="employeeIsActive" class="col-sm-2 col-form-label">Status</label>
          <div class="col-sm-10 checkbox-align-bottom">
            <label class="custom-control custom-checkbox mb-2 mr-sm-2 mb-sm-0">
              <input type="checkbox" #isActiveCheckBox [checked]="employee?.isactive" class="custom-control-input" formControlName="isactive">
              <span class="custom-control-indicator"></span>
              <span class="custom-control-description">{{isActiveCheckBox.checked?"  Active":"  Inactive"}}</span>
            </label>
          </div>
        </div>
      </div>
    </div>
    <br><br>
    <p class="h1">Personal Information</p>
    <hr/><br>
    <div class="form-group row">
      <label for="employeeFullName" class="col-sm-2 col-form-label">Full Name</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="employeeFullName" formControlName="fullname" placeholder="Full Name" value="{{employee?.fullname}}">
      </div>
    </div>
    <div class="form-group row">
      <label for="employeeBirthday" class="col-sm-2 col-form-label">Birthday</label>
      <div class="col-sm-10">
        <input type="date" class="form-control" id="employeeBirthday" formControlName="birthday" value="{{employee?.birthday | date: 'yyyy-MM-dd'}}">
      </div>
    </div>
    <div class="form-group row">
      <label for="employeeTelNo" class="col-sm-2 col-form-label">Contact Number</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" id="employeeTelNo" formControlName="telno" value="{{employee?.telno}}">
      </div>
    </div>
    <div class="form-group row">
      <label for="employeeGender" class="col-sm-2 col-form-label">Gender</label>
      <div class="col-sm-10">
        <select class="form-control" id="employeeGender" formControlName="gender">
          <option *ngFor="let gender of genders" [value]="gender.id" [selected]="employee?.gender==gender.id">{{gender.value}}</option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label for="employeeAddress" class="col-sm-2 col-form-label">Address</label>
      <div class="col-sm-10">
        <textarea  class="form-control" id="employeeAddress" value="{{employee?.address}}" rows="4" formControlName="address"></textarea>
      </div>
    </div>
    <p class="h5">Emergency Contact Information</p>
    <hr/><br>
    <div class="form-group row">
      <label for="employeeECName" class="col-sm-2 col-form-label">Name</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="employeeECName" value="{{employee?.ecname}}" formControlName="ecname">
      </div>
    </div>
    <div class="form-group row">
      <label for="employeeTelNo" class="col-sm-2 col-form-label">Contact Number</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" id="employeeTelNo" value="{{employee?.ectelno}}" formControlName="ectelno">
      </div>
    </div>
    <div class="form-group row">
      <label for="employeeECRelation" class="col-sm-2 col-form-label">Relationship</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="employeeECRelation" value="{{employee?.ecrelation}}" formControlName="ecrelation">
      </div>
    </div><br>
    <button type="submit" class="btn btn-primary" ><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</button>
  </form>
</div>
<!-- [disabled]="!employeeForm.valid" -->
<br><br>